{% extends "Employee/base.html" %}
  
{% block title %}Add New Employee Records{% endblock title %}
  
{% block content %}
<div class="col-md-12">
    <form method="POST" class="post-form" action="/Employee/update/{{employee.id}}" onsubmit="return validateForm()">  
    {% csrf_token %}  
    <div class="container">   
        <div class="col-12">  
            <h3>Update Details</h3>  
        </div> 
        <div class="mb-3"> 
            <label>Employee ID:</label>  
            <input type="text" class="form-control" name="id" id="id_id" required maxlength="20" value="{{ employee.id }}"/>    
        </div> 
        <div class="mb-3"> 
            <label>First Name:</label>  
            <input type="text" class="form-control" name="firstName" id="id_firstName" required maxlength="100" value="{{ employee.firstName }}" />  
        </div> 
        <div class="mb-3"> 
            <label>Last Name:</label>  
            <input type="text" class="form-control" name="lastName" id="id_lastName" required maxlength="254" value="{{ employee.lastName }}" />  
        </div> 
        <div class="mb-3"> 
            <label>Emp ID:</label>  
            <input type="text" class="form-control" name="empID" id="id_empID" required maxlength="30" value="{{ employee.empID }}" />  
        </div> 
        <div class="mb-3"> 
            <label>Basic Salary:</label>  
            <input type="text" class="form-control" name="basicSalary" id="id_basicSalary" required maxlength="20" value="{{ employee.basicSalary }}" />  
        </div>
        <div class="mb-3"> 
            <label>Age:</label>  
            <input type="text" class="form-control" name="age" id="id_age" required maxlength="20" value="{{ employee.age }}" />  
        </div>  
        <div class="mb-3"> 
            <label>Phone Number:</label>  
            <input type="text" class="form-control" name="phoneNumber" id="id_phoneNumber" required maxlength="10" value="{{ employee.phoneNumber }}" />  
        </div>
        <div class="mb-3"> 
            <label>Position:</label>  
            <input type="text" class="form-control" name="position" id="id_position" required maxlength="30" value="{{ employee.position }}" />  
        </div>
        <div class="mb-3"> 
            <label>Gender:</label>  
            <input type="text" class="form-control" name="gender" id="id_gender" required maxlength="15" value="{{ employee.gender }}" />  
        </div>
        <div class="mb-3"> 
            <button type="submit" class="btn btn-success btn-lg">Update</button>  
        </div> 
    </div>  
    </form>  


    <script>
        function validateForm() {
            
            var firstName = document.querySelector('.form-control[name="firstName"]').value.trim();
            var lastName = document.querySelector('.form-control[name="lastName"]').value.trim();
            var empID = document.querySelector('.form-control[name="empID"]').value.trim();
            var basicSalary = document.querySelector('.form-control[name="basicSalary"]').value.trim();
            var age = document.querySelector('.form-control[name="age"]').value.trim();
            var phoneNumber = document.querySelector('.form-control[name="phoneNumber"]').value.trim();
            var position = document.querySelector('.form-control[name="position"]').value.trim();
            var gender = document.querySelector('.form-control[name="gender"]').value.trim();
     
            var lettersOnly = /^[A-Za-z]+$/;
            var numbersOnly = /^[0-9]+$/;
     
            if (!firstName.match(lettersOnly)) {
                alert('First Name should contain only letters.');
                return false;
            }
     
            if (!lastName.match(lettersOnly)) {
                alert('Last Name should contain only letters.');
                return false;
            }
     
            if (!empID.match(numbersOnly)) {
                alert('Emp ID should contain only numbers.');
                return false;
            }
     
            if (!basicSalary.match(numbersOnly)) {
                alert('Basic Salary should contain only numbers.');
                return false;
            }
     
            if (!age.match(numbersOnly)) {
                alert('Age should contain only numbers.');
                return false;
            }
     
            if (!phoneNumber.match(numbersOnly) || !phoneNumber.match(/^\d{10}$/)) {
                alert('Phone Number should contain 10 numbers only.');
                return false;
            }
     
            if (!position.match(lettersOnly)) {
                alert('Position should contain only letters.');
                return false;
            }
     
            if (!gender.match(lettersOnly)) {
                alert('Gender should contain only letters.');
                return false;
            }
     
            return true; // Submit the form if all validations pass
        }
    </script>
{% endblock content %} 